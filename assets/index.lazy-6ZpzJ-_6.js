import{R as e,r as i,b as m,a4 as j,a2 as Z,j as l,L as b,af as E,a3 as v}from"./index-CYeAsUS9.js";import{S as w,H as M}from"./health-stats-CtoVaN47.js";import{T as o,S as O}from"./setup-BcTw_gXR.js";import{C as n,b as s,c,d as L}from"./card-D23lTOkw.js";import"./index-DEG-F_vN.js";const N=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM144,80v96a12,12,0,0,1-24,0V102.42L114.66,106a12,12,0,0,1-13.32-20l24-16A12,12,0,0,1,144,80Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),e.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM140,80v96a8,8,0,0,1-16,0V95l-11.56,7.71a8,8,0,1,1-8.88-13.32l24-16A8,8,0,0,1,140,80Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm12,152a8,8,0,0,1-16,0V95l-11.56,7.71a8,8,0,1,1-8.88-13.32l24-16A8,8,0,0,1,140,80Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM138,80v96a6,6,0,0,1-12,0V91.21L111.33,101a6,6,0,0,1-6.66-10l24-16A6,6,0,0,1,138,80Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM140,80v96a8,8,0,0,1-16,0V95l-11.56,7.71a8,8,0,1,1-8.88-13.32l24-16A8,8,0,0,1,140,80Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm8-140v96a4,4,0,0,1-8,0V87.47L110.22,99.33a4,4,0,1,1-4.44-6.66l24-16A4,4,0,0,1,136,80Z"}))]]),F=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm36-60a40,40,0,0,1-68.57,28,12,12,0,1,1,17.14-16.79A16,16,0,1,0,124,136a12,12,0,0,1-9.83-18.88L129,96H104a12,12,0,0,1,0-24h48a12,12,0,0,1,9.83,18.88l-18.34,26.2A40,40,0,0,1,164,152Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),e.createElement("path",{d:"M160,152a36,36,0,0,1-61.71,25.19A8,8,0,1,1,109.71,166,20,20,0,1,0,124,132a8,8,0,0,1-6.55-12.59L136.63,92H104a8,8,0,0,1,0-16h48a8,8,0,0,1,6.55,12.59l-21,30A36.07,36.07,0,0,1,160,152Zm72-24A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,164a35.71,35.71,0,0,1-25.71-10.81A8,8,0,1,1,109.71,166,20,20,0,1,0,124,132a8,8,0,0,1-6.55-12.59L136.63,92H104a8,8,0,0,1,0-16h48a8,8,0,0,1,6.55,12.59l-21,30A36,36,0,0,1,124,188Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm30-66a34,34,0,0,1-58.29,23.79,6,6,0,0,1,8.58-8.39A22,22,0,1,0,124,130a6,6,0,0,1-4.92-9.44L140.48,90H104a6,6,0,0,1,0-12h48a6,6,0,0,1,4.92,9.44l-22.53,32.18A34.06,34.06,0,0,1,158,152Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm32-64a36,36,0,0,1-61.71,25.19A8,8,0,1,1,109.71,166,20,20,0,1,0,124,132a8,8,0,0,1-6.55-12.59L136.63,92H104a8,8,0,0,1,0-16h48a8,8,0,0,1,6.55,12.59l-21,30A36.07,36.07,0,0,1,160,152Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm28-68a32,32,0,0,1-54.86,22.4,4,4,0,1,1,5.72-5.6A24,24,0,1,0,124,128a4,4,0,0,1-3.28-6.29L144.32,88H104a4,4,0,0,1,0-8h48a4,4,0,0,1,3.28,6.29L131.12,120.8A32.06,32.06,0,0,1,156,152Z"}))]]),$=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm28.75-86.33L128,164h24a12,12,0,0,1,0,24H104a12,12,0,0,1-9.6-19.2l43.17-57.56A12,12,0,1,0,116.68,100a12,12,0,0,1-22.63-8,36.3,36.3,0,0,1,5.2-9.67,36,36,0,0,1,57.5,43.34Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),e.createElement("path",{d:"M153.56,123.26,120,168h32a8,8,0,0,1,0,16H104a8,8,0,0,1-6.4-12.8l43.17-57.56a16,16,0,1,0-27.86-15,8,8,0,0,1-15.09-5.34,32,32,0,1,1,55.74,29.93ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm24,144a8,8,0,0,1,0,16H104a8,8,0,0,1-6.4-12.8l43.17-57.56a16,16,0,1,0-27.86-15,8,8,0,0,1-15.09-5.34,32,32,0,1,1,55.74,29.93L120,168Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm24-95.95-36,48h36a6,6,0,0,1,0,12H104a6,6,0,0,1-4.8-9.6l43.17-57.56A18,18,0,1,0,111,98a6,6,0,1,1-11.31-4A30,30,0,1,1,152,122.05Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm25.56-92.74L120,168h32a8,8,0,0,1,0,16H104a8,8,0,0,1-6.4-12.8l43.17-57.56a16,16,0,1,0-27.86-15,8,8,0,0,1-15.09-5.34,32,32,0,1,1,55.74,29.93Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm22.36-99.15L112,172h40a4,4,0,0,1,0,8H104a4,4,0,0,1-3.2-6.4L144,116A20,20,0,0,0,140,88,20,20,0,0,0,112,92a20.08,20.08,0,0,0-2.89,5.37,4,4,0,0,1-7.55-2.66,28.19,28.19,0,0,1,4-7.52,28,28,0,1,1,44.72,33.7Z"}))]]);var P=Object.defineProperty,H=Object.defineProperties,C=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,p=(t,a,r)=>a in t?P(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,T=(t,a)=>{for(var r in a||(a={}))R.call(a,r)&&p(t,r,a[r]);if(d)for(var r of d(a))S.call(a,r)&&p(t,r,a[r]);return t},k=(t,a)=>H(t,C(a));const f=i.forwardRef((t,a)=>e.createElement(m,k(T({ref:a},t),{weights:N})));f.displayName="NumberCircleOne";var I=Object.defineProperty,V=Object.defineProperties,q=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,u=(t,a,r)=>a in t?I(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,B=(t,a)=>{for(var r in a||(a={}))z.call(a,r)&&u(t,r,a[r]);if(h)for(var r of h(a))D.call(a,r)&&u(t,r,a[r]);return t},Q=(t,a)=>V(t,q(a));const A=i.forwardRef((t,a)=>e.createElement(m,Q(B({ref:a},t),{weights:F})));A.displayName="NumberCircleThree";var U=Object.defineProperty,_=Object.defineProperties,G=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,x=(t,a,r)=>a in t?U(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,W=(t,a)=>{for(var r in a||(a={}))K.call(a,r)&&x(t,r,a[r]);if(g)for(var r of g(a))J.call(a,r)&&x(t,r,a[r]);return t},X=(t,a)=>_(t,G(a));const y=i.forwardRef((t,a)=>e.createElement(m,X(W({ref:a},t),{weights:$})));y.displayName="NumberCircleTwo";const n1=j("/")({component:Y});function Y(){const{data:t,isLoading:a}=Z({queryKey:["stats","init"],queryFn:async()=>(await v.query("SELECT count(*) from records;")).rows?.[0].count??0});return l.jsxs("div",{className:"container p-4 mx-auto lg:px-8",children:[l.jsxs("div",{className:"flex flex-col gap-8 justify-center items-center my-20",children:[l.jsxs("h1",{className:"text-5xl font-semibold tracking-tight text-gray-900 dark:text-white text-balance sm:text-7xl",children:["Run SQL on your",l.jsx("br",{}),"Apple health data"]}),l.jsx("div",{className:"text-2xl text-gray-700 dark:text-gray-300",children:"No sign ups. Run locally."})]}),l.jsx("div",{className:"my-12",children:l.jsxs("div",{className:"grid gap-4 lg:gap-12 md:grid-cols-2 lg:grid-cols-3",children:[l.jsxs(n,{children:[l.jsxs(s,{className:"flex gap-2 items-center p-4",children:[l.jsx(f,{size:42}),l.jsx("span",{className:"text-2xl",children:"Upload file"})]}),l.jsxs(c,{children:["The file is parsed locally on your device. It contains records of all your health data, sometimes where each record might have subsequent metadata for it also. The data is then ingested into a local postgres database running using"," ",l.jsx("a",{href:"https://pglite.dev",target:"_blank",rel:"noreferrer",className:"text-blue-500",children:"pglite.dev"})]})]}),l.jsxs(n,{children:[l.jsxs(s,{className:"flex gap-2 items-center p-4",children:[l.jsx(y,{size:42}),l.jsx("span",{className:"text-2xl",children:"Populating the database"})]}),l.jsxs(c,{children:["The ",l.jsx(o,{children:"records"})," table and"," ",l.jsx(o,{children:"record_metadata"})," table are populated as the file is parsed. Each health record is uniquely identified by an ID and has fields like type, value, dates, etc."]})]}),l.jsxs(n,{children:[l.jsxs(s,{className:"flex gap-2 items-center p-4",children:[l.jsx(A,{size:42}),l.jsx("span",{className:"text-2xl",children:"Browse your data"})]}),l.jsx(c,{children:"Use the REPL or Explorer to view your data, or visualize it by making charts."}),l.jsx(L,{children:l.jsx(b,{asChild:!0,children:l.jsx(E,{href:"/import",children:"Get started"})})})]})]})}),l.jsx("div",{children:a?l.jsx(w,{className:"w-full h-20"}):t&&t>0?l.jsx("div",{className:"",children:l.jsx(M,{})}):l.jsx(O,{})})]})}export{n1 as Route};
