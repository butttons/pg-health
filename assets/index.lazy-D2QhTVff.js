import{R as a,r as o,b as d,j as e,a6 as A,a3 as v,N as E,ab as n,ac as Z,a5 as w,ad as N,a4 as M}from"./index-D_EHTKQ7.js";import{A as k,a as O,b as F,c as L}from"./accordion-BXqXPk8G.js";import{a as P,H as $,S as I}from"./health-stats-BFqnY4qD.js";import{T as m,S as H}from"./setup-DBTycI7P.js";import{C as s,b as c,c as i,d as S}from"./card-Cd2j5fKW.js";import"./index-C2PZqj7Q.js";const z=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM144,80v96a12,12,0,0,1-24,0V102.42L114.66,106a12,12,0,0,1-13.32-20l24-16A12,12,0,0,1,144,80Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM140,80v96a8,8,0,0,1-16,0V95l-11.56,7.71a8,8,0,1,1-8.88-13.32l24-16A8,8,0,0,1,140,80Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm12,152a8,8,0,0,1-16,0V95l-11.56,7.71a8,8,0,1,1-8.88-13.32l24-16A8,8,0,0,1,140,80Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM138,80v96a6,6,0,0,1-12,0V91.21L111.33,101a6,6,0,0,1-6.66-10l24-16A6,6,0,0,1,138,80Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM140,80v96a8,8,0,0,1-16,0V95l-11.56,7.71a8,8,0,1,1-8.88-13.32l24-16A8,8,0,0,1,140,80Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm8-140v96a4,4,0,0,1-8,0V87.47L110.22,99.33a4,4,0,1,1-4.44-6.66l24-16A4,4,0,0,1,136,80Z"}))]]),C=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm36-60a40,40,0,0,1-68.57,28,12,12,0,1,1,17.14-16.79A16,16,0,1,0,124,136a12,12,0,0,1-9.83-18.88L129,96H104a12,12,0,0,1,0-24h48a12,12,0,0,1,9.83,18.88l-18.34,26.2A40,40,0,0,1,164,152Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),a.createElement("path",{d:"M160,152a36,36,0,0,1-61.71,25.19A8,8,0,1,1,109.71,166,20,20,0,1,0,124,132a8,8,0,0,1-6.55-12.59L136.63,92H104a8,8,0,0,1,0-16h48a8,8,0,0,1,6.55,12.59l-21,30A36.07,36.07,0,0,1,160,152Zm72-24A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,164a35.71,35.71,0,0,1-25.71-10.81A8,8,0,1,1,109.71,166,20,20,0,1,0,124,132a8,8,0,0,1-6.55-12.59L136.63,92H104a8,8,0,0,1,0-16h48a8,8,0,0,1,6.55,12.59l-21,30A36,36,0,0,1,124,188Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm30-66a34,34,0,0,1-58.29,23.79,6,6,0,0,1,8.58-8.39A22,22,0,1,0,124,130a6,6,0,0,1-4.92-9.44L140.48,90H104a6,6,0,0,1,0-12h48a6,6,0,0,1,4.92,9.44l-22.53,32.18A34.06,34.06,0,0,1,158,152Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm32-64a36,36,0,0,1-61.71,25.19A8,8,0,1,1,109.71,166,20,20,0,1,0,124,132a8,8,0,0,1-6.55-12.59L136.63,92H104a8,8,0,0,1,0-16h48a8,8,0,0,1,6.55,12.59l-21,30A36.07,36.07,0,0,1,160,152Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm28-68a32,32,0,0,1-54.86,22.4,4,4,0,1,1,5.72-5.6A24,24,0,1,0,124,128a4,4,0,0,1-3.28-6.29L144.32,88H104a4,4,0,0,1,0-8h48a4,4,0,0,1,3.28,6.29L131.12,120.8A32.06,32.06,0,0,1,156,152Z"}))]]),T=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm28.75-86.33L128,164h24a12,12,0,0,1,0,24H104a12,12,0,0,1-9.6-19.2l43.17-57.56A12,12,0,1,0,116.68,100a12,12,0,0,1-22.63-8,36.3,36.3,0,0,1,5.2-9.67,36,36,0,0,1,57.5,43.34Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),a.createElement("path",{d:"M153.56,123.26,120,168h32a8,8,0,0,1,0,16H104a8,8,0,0,1-6.4-12.8l43.17-57.56a16,16,0,1,0-27.86-15,8,8,0,0,1-15.09-5.34,32,32,0,1,1,55.74,29.93ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm24,144a8,8,0,0,1,0,16H104a8,8,0,0,1-6.4-12.8l43.17-57.56a16,16,0,1,0-27.86-15,8,8,0,0,1-15.09-5.34,32,32,0,1,1,55.74,29.93L120,168Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm24-95.95-36,48h36a6,6,0,0,1,0,12H104a6,6,0,0,1-4.8-9.6l43.17-57.56A18,18,0,1,0,111,98a6,6,0,1,1-11.31-4A30,30,0,1,1,152,122.05Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm25.56-92.74L120,168h32a8,8,0,0,1,0,16H104a8,8,0,0,1-6.4-12.8l43.17-57.56a16,16,0,1,0-27.86-15,8,8,0,0,1-15.09-5.34,32,32,0,1,1,55.74,29.93Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm22.36-99.15L112,172h40a4,4,0,0,1,0,8H104a4,4,0,0,1-3.2-6.4L144,116A20,20,0,0,0,140,88,20,20,0,0,0,112,92a20.08,20.08,0,0,0-2.89,5.37,4,4,0,0,1-7.55-2.66,28.19,28.19,0,0,1,4-7.52,28,28,0,1,1,44.72,33.7Z"}))]]);var q=Object.defineProperty,R=Object.defineProperties,_=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,p=(r,t,l)=>t in r?q(r,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[t]=l,D=(r,t)=>{for(var l in t||(t={}))V.call(t,l)&&p(r,l,t[l]);if(h)for(var l of h(t))W.call(t,l)&&p(r,l,t[l]);return r},Q=(r,t)=>R(r,_(t));const b=o.forwardRef((r,t)=>a.createElement(d,Q(D({ref:t},r),{weights:z})));b.displayName="NumberCircleOne";var U=Object.defineProperty,B=Object.defineProperties,G=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,u=(r,t,l)=>t in r?U(r,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[t]=l,X=(r,t)=>{for(var l in t||(t={}))K.call(t,l)&&u(r,l,t[l]);if(x)for(var l of x(t))J.call(t,l)&&u(r,l,t[l]);return r},Y=(r,t)=>B(r,G(t));const f=o.forwardRef((r,t)=>a.createElement(d,Y(X({ref:t},r),{weights:C})));f.displayName="NumberCircleThree";var ee=Object.defineProperty,ae=Object.defineProperties,te=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,j=(r,t,l)=>t in r?ee(r,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[t]=l,se=(r,t)=>{for(var l in t||(t={}))re.call(t,l)&&j(r,l,t[l]);if(g)for(var l of g(t))le.call(t,l)&&j(r,l,t[l]);return r},ne=(r,t)=>ae(r,te(t));const y=o.forwardRef((r,t)=>a.createElement(d,ne(se({ref:t},r),{weights:T})));y.displayName="NumberCircleTwo";const ce=[{key:"mobile",question:"Does it work on mobile?",answer:"No. Maybe it works with smaller files (<100mb)."},{key:"acc",question:"How is my file managed?",answer:"When you import your file, it is processed on your machine and the data is saved locally. There are no servers that processes the SQL."},{key:"sql",question:"Where is my data saved?",answer:e.jsxs(e.Fragment,{children:["Thanks to"," ",e.jsx("a",{href:"https://pglite.dev/",target:"_blank",rel:"noreferrer",className:"text-blue-500",children:"pglite.dev"})," ","and"," ",e.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API",target:"_blank",rel:"noreferrer",className:"text-blue-500",children:"Web Workers"}),", the file that you upload is parsed and it's data saved in a local SQL database. It's backed by"," ",e.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API",target:"_blank",rel:"noreferrer",className:"text-blue-500",children:"IndexedDB"})," ","so your data won't be lost when you close the window."]})},{key:"qa",question:"How do I provide feedback or report a bug?",answer:e.jsxs(e.Fragment,{children:["Please create an issue on"," ",e.jsx("a",{target:"_blank",rel:"noreferrer",className:"text-blue-500",href:"https://github.com/butttons/pg-health",children:"GitHub"}),"."]})}],ie=()=>e.jsx(k,{type:"multiple",children:ce.map(r=>e.jsxs(O,{value:r.key,children:[e.jsx(F,{children:r.question}),e.jsx(L,{children:r.answer})]},r.key))}),ge=A("/")({component:oe});function oe(){const{data:r,isLoading:t}=v({queryKey:["stats","init"],queryFn:async()=>(await M.query("SELECT count(*) from records;")).rows?.[0].count??0});return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"container flex flex-col gap-8 justify-center items-center px-4 mx-auto my-20",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700 uppercase dark:text-gray-300",children:"No sign ups. Run locally on device."}),e.jsxs("h1",{className:"text-5xl font-semibold tracking-tight text-center text-gray-900 dark:text-white text-balance sm:text-7xl",children:["Unlock insights from your",e.jsx("br",{}),"Apple Health data"]}),e.jsx("div",{className:"pt-2 text-xl text-center border-t",children:"Visualize with charts or explore with SQL, all on your machine."})]}),e.jsx("div",{className:"py-12 my-12 bg-secondary dark:bg-secondary",children:e.jsxs("div",{className:"container px-4 mx-auto",children:[e.jsx("div",{className:"mb-6 text-3xl text-center",children:"How it works"}),e.jsxs("div",{className:"grid gap-4 lg:gap-12 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(s,{children:[e.jsxs(c,{className:"flex gap-2 items-center p-4",children:[e.jsx(b,{size:42}),e.jsx("span",{className:"text-2xl",children:"Upload file"})]}),e.jsxs(i,{children:["The file is parsed locally on your device. It contains records of all your health data, sometimes where each record might have subsequent metadata for it also. The data is then ingested into a local postgres database running using"," ",e.jsx("a",{href:"https://pglite.dev",target:"_blank",rel:"noreferrer",className:"text-blue-500",children:"pglite.dev"})]})]}),e.jsxs(s,{children:[e.jsxs(c,{className:"flex gap-2 items-center p-4",children:[e.jsx(y,{size:42}),e.jsx("span",{className:"text-2xl",children:"Populating the database"})]}),e.jsxs(i,{children:["The ",e.jsx(m,{children:"records"})," table and ",e.jsx(m,{children:"record_metadata"})," ","table are populated as the file is parsed. Each health record is uniquely identified by an ID and has fields like type, value, dates, etc."]})]}),e.jsxs(s,{children:[e.jsxs(c,{className:"flex gap-2 items-center p-4",children:[e.jsx(f,{size:42}),e.jsx("span",{className:"text-2xl",children:"Browse your data"})]}),e.jsx(i,{children:"Use the REPL or Explorer to view your data, or visualize it by making charts."}),e.jsx(S,{children:e.jsx(E,{asChild:!0,children:e.jsx(n,{href:"/import",children:"Get started"})})})]})]})]})}),e.jsx("div",{children:t?e.jsx(P,{className:"w-full h-20"}):r&&r>0?e.jsxs("div",{className:"container px-4 mx-auto",children:[e.jsx($,{}),e.jsxs("div",{className:"grid gap-6 my-6 md:grid-cols-3",children:[e.jsx(s,{className:"p-6",children:e.jsxs(n,{href:"/viz",className:"flex gap-2 items-center",children:[e.jsx(Z,{size:64}),e.jsx("div",{className:"text-3xl",children:"Visualize"})]})}),e.jsx(s,{className:"p-6",children:e.jsxs(n,{href:"/repl",className:"flex gap-2 items-center",children:[e.jsx(w,{size:64}),e.jsx("div",{className:"text-3xl",children:"REPL"})]})}),e.jsx(s,{className:"p-6",children:e.jsxs(n,{href:"/explore",className:"flex gap-2 items-center",children:[e.jsx(N,{size:64}),e.jsx("div",{className:"text-3xl",children:"Explore"})]})})]})]}):e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"container px-4 mx-auto lg:px-20",children:e.jsx(H,{})})})}),e.jsx(I,{className:"my-6"}),e.jsxs("div",{className:"container px-4 mx-auto my-12 lg:w-1/2",children:[e.jsx("div",{className:"text-3xl",children:"FAQ"}),e.jsx(ie,{})]})]})}export{ge as Route};
